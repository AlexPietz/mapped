<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"> 
    <title>mappED</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/custom.css">
  <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script type="text/javascript" src="scripts/jquery.sticky.js"></script>
  <script>
    $(window).load(function(){
      $("#map").sticky({ topSpacing: 0 });
    });
  </script>
<!--<script>
var app = angular.module('app', []);
app.controller('PeopleCtrl', function($scope, $http) {

    $scope.loadPeople = function() {
  $http.get('data.json').success(function(data) {
       $scope.people = data;
   });

        window.alert("sometext");
    };

});
</script>-->


    <script>
      var thisApp = angular.module('app', []);
      thisApp.controller('CountryCtrl', function ($scope, $http){
        $http.get('data2.json').success(function(data2) {
          $scope.countries = data2;
        $scope.addmarker = function(x,y, name) { var marker = L.marker([x, y]).addTo(map); marker.bindPopup("I am "+name).openPopup(); map.setView([x,y], 18);};
        });
      });
    </script>
  <script src="scripts/toTop.js" charset="utf-8"></script>
  
  </head>
  <body>
    <script>
$('body').toTop({

  //  CSS styles for the scroll to top button
  css: {
    position: "fixed",
    right: '2rem',
    bottom: '1rem',
    fontSize: '4rem',
    cursor: 'pointer',
    color: '#1e1e1e'
  },

  // text for the scroll to top button
  symbol: '&#8963;',

  // animation speed for the scrolling effect
  scrollUpSpeed: 2000,

  // distance from top of the webpage to trigger the plugin
  triggerHeight: 250
  
});
    </script>


    


  <div ng-app="app" ng-init="searchT=''">        






  <div class="container-fluid" style="background-color:#F44336;color:#fff;height:20%;padding:3%">
	  <div class="container">
		<div class="col-xs-12" style="height:0px;"></div>
		    <div class="col-md-2"></div>
			<div class="col-md-8">
			<h1 style="margin-top: 0px !important">MappED</h1>
				<div id="custom-search-input">
					<div class="input-group col-md-12">
            <span class="input-group-btn" id="collapsebutton">
             <button class="btn btn-info btn-lg" data-toggle="collapse" data-target="#collapseDivOptions" ng-click="collapseState[$index]= !collapseState[$index]">
                <span class="glyphicon" id="servicedrop"  ng-class="collapseState[$index] ? 'glyphicon glyphicon-menu-down' : 'glyphicon glyphicon-menu-right'"></span>
              </button>
              </span>
						<input type="text" class="form-control input-lg" placeholder="Search" ng-model="searchT" />

             

						<span class="input-group-btn">
							<button class="btn btn-info btn-lg" type="button">
								<i id="searchbutton" class="glyphicon glyphicon-search"></i>
							</button>
						</span>
					</div>
            <div class="collapse" id="collapseDivOptions" ng-model="collapseState">
              <div class="checkbox">
                <label><input type="checkbox" value="">Computers</label>
              </div>
              <div class="checkbox">
                <label><input type="checkbox" value="">Silent Study</label>
              </div>
              <div class="checkbox">
                <label><input type="checkbox" value="">???</label>
              </div>
            </div>

			     </div>
			
		</div>
		
	</div>
  </div>
  
  <!--<img class="img-responsive" src="images/Capture.PNG" alt="Capt" data-spy="affix" data-offset-top="250">-->
  <div id="map" class="img-responsive" data-spy="affix" data-offset-top="250"> </div>
    <script>  var map = L.map('map').setView([55.943,-3.18], 13);
map.scrollWheelZoom.disable();
  // create the tile layer with correct attribution
L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);

</script>
   

  <div class="container">
      <div class="col-xs-12" style="height:50px;"></div>
  </div>
  

   <div ng-controller="CountryCtrl">
  <div class="container-fluid" ng-repeat="country in countries | filter:searchT">
	  <div class="panel-group">
		<div class="panel panel-default">
		  <div class="panel-heading">
			<h1 class="panel-title">
       <a data-toggle="collapse" href="#collapse{{country.abbreviation}}" ng-click="addmarker(country.latitude, country.longitude, country.name)">{{country.name}} </a>
			</h1>
		  </div>
		  <div id="collapse{{country.abbreviation}}" class="panel-collapse collapse">
			<div class="panel-body">
      <a id="myLink" href="#" ng-click="addmarker(country.latitude, country.longitude)">ef marker</a>
      {{country.address}}

      <img src= "{{country.image}}"  class = "img-thumbnail"> 

			 <div class="col-xs-12" style="height:200px;"></div></div>
		  </div>
		</div>
	  </div>
	</div>
  </div>
	</div>
</div>
</body>
</html>